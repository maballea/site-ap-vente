{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<!-- Contenu principal avec Bootstrap -->
<div class="container py-5">
    <h1 class="text-center mb-4">Bienvenue !</h1>

    <!-- Bouton catalogue -->
    <div class="d-flex justify-content-center">
        <button class="btn btn-primary" onclick="window.location.href='{{ path('produit_catalogue') }}'">Catalogue</button>
    </div>

    {% if app.user %}
        <!-- Bouton de déconnexion -->
        <div class="d-flex justify-content-center mt-3">
            <button class="btn btn-danger" id="deconnexion-btn">Déconnexion</button>
        </div>

        <script>
            document.querySelector('#deconnexion-btn').addEventListener('click', function(event) {
                if (!confirm('Êtes-vous sûr de vouloir vous déconnecter ? Votre panier sera perdu.')) {
                    event.preventDefault();
                } else {
                    window.location.href = '{{ path('app_logout') }}';
                }
            });
        </script>

    {% else %}
        <!-- Boutons d'inscription et de connexion -->
        <div class="d-flex justify-content-center mt-3">
            <button class="btn btn-success mx-2" onclick="window.location.href='{{ path('app_register') }}'">S'inscrire</button>
            <button class="btn btn-info mx-2" onclick="window.location.href='{{ path('app_login') }}'">Se connecter</button>
        </div>
    {% endif %}
</div>
{% endblock %}
